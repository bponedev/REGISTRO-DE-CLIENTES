{% extends "base.html" %}
{% block content %}

<h1>Excluídos</h1>

<div class="toolbar">

    <form id="restoreSelectedForm" method="POST" action="{{ url_for('restore_selected') }}" class="inline">
        <button class="btn" onclick="return confirm('Restaurar selecionados?')">Restaurar selecionados</button>
    </form>

    <form id="deleteForeverForm" method="POST" action="{{ url_for('delete_forever_selected') }}" class="inline">
        <button class="btn-danger" onclick="return confirm('Excluir permanentemente?')">Excluir permanentemente</button>
    </form>

</div>

<div class="card scrollable">
<table class="table">
    <thead>
        <tr>
            <th><input type="checkbox" onclick="toggleSelectAll(this)"></th>
            <th>ID</th>
            <th>Nome</th>
            <th>CPF</th>
            <th>Escritório</th>
            <th>Tipo</th>
            <th>Excluído em</th>
            <th>Ações</th>
        </tr>
    </thead>

    <tbody>
    {% for r in rows %}
        <tr>

            <td>
                <input type="checkbox" name="ids" form="restoreSelectedForm" value="{{ r[0] }}">
                <input type="hidden" name="ids" form="deleteForeverForm" value="{{ r[0] }}">
            </td>

            <td>{{ r[0] }}</td>
            <td>{{ r[1] }}</td>
            <td>{{ r[2] }}</td>
            <td>{{ r[3] }}</td>
            <td>{{ r[5] }}</td>
            <td>{{ r[13] }}</td>

            <td>

                <!-- Restaurar individual -->
                <form method="POST" action="{{ url_for('restore') }}" class="inline">
                    <input type="hidden" name="id" value="{{ r[0] }}">
                    <button class="btn-small">Restaurar</button>
                </form>

                <!-- Excluir total individual -->
                <form method="POST" action="{{ url_for('delete_forever') }}" class="inline">
                    <input type="hidden" name="id" value="{{ r[0] }}">
                    <button class="btn-small-danger" onclick="return confirm('Excluir permanentemente?')">
                        Excluir
                    </button>
                </form>

            </td>

        </tr>
    {% endfor %}
    </tbody>
</table>
</div>

{% endblock %}
